---
title: "Temeller"
format:
  html:
    toc: true
    toc-depth: 2
    number-sections: true
    code-fold: false
    df-print: paged
    sidebar: haftalar
---

# ğŸ¯ AmaÃ§ {.unnumbered}

-   Paketlerden veri yÃ¼klemek

-   Veri setlerini (data frame) ve tidy data yaklaÅŸÄ±mÄ±nÄ± tanÄ±tmak

-   DeÄŸiÅŸken tÃ¼rlerini tartÄ±ÅŸmak ve iliÅŸkilendirmek

-   Veri setlerini deÄŸiÅŸken tÃ¼rlerini dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in mutate fonksiyonunu kullanmak

-   SÃ¼rekli deÄŸiÅŸkenleri kategorik deÄŸiÅŸkenlere dÃ¶nÃ¼ÅŸtÃ¼rmek

-   Verileri filtrelemek ve ardÄ±ndan gereksiz dÃ¼zeyleri (levels) kaldÄ±rmak

-   Kategorik deÄŸiÅŸkenlerde bazÄ± dÃ¼zeyleri birleÅŸtirmek

-   Ä°ki mevcut deÄŸiÅŸkene dayalÄ± yeni bir deÄŸiÅŸken oluÅŸturmak

Bu amaÃ§larÄ±, R yazÄ±lÄ±ma giriÅŸ iÃ§in aÃ§Ä±klayÄ±cÄ± olduÄŸunu dÃ¼ÅŸÃ¼ndÃ¼ÄŸÃ¼m bir kÄ±lavuz Ã¼zerinden ilerleyerek aÃ§Ä±klamak istiyorum.

Ä°lk bÃ¶lÃ¼mÃ¼n linkiğŸ”— [Language of data](https://openintro.shinyapps.io/ims-01-data-01/#section-welcome)

-   Paket yÃ¼kleme

> ğŸ“Œ UyarÄ±lara dikkat ediniz.

```{r}
library(tidyverse)
library(openintro)
```

-   Bu klavuzda, `openintro` paketinde yer alan High School and Beyond veri seti [hsb2](https://openintrostat.github.io/openintro/reference/hsb2.html) ile kullanÄ±lmÄ±ÅŸtÄ±r.

```{r}
hsb2
```

# Veri yÃ¼kleme

Verilerinizi Râ€™a aktarmanÄ±n, verilerin nerede saklandÄ±ÄŸÄ±na baÄŸlÄ± olarak birÃ§ok farklÄ± yolu vardÄ±r. Ä°lk derste bir R paketinde yer alan bir veri seti kullanÄ±yoruz.

SÄ±klÄ±kla kullanÄ±lan diÄŸer veri formatlarÄ± ise text dosyalarÄ±, virgÃ¼lle ayrÄ±lmÄ±ÅŸ deÄŸerler (CSV), Excel dosyalarÄ± (XLS veya XLSX) ve Râ€™nin kendi veri saklama formatÄ± olan RDataâ€™dÄ±r.

Kendi verilerinizle bir analiz yÃ¼rÃ¼tÃ¼rken Râ€™ye veri yÃ¼kleme yÃ¶ntemlerini Ã¶ÄŸrenmek oldukÃ§a Ã¶nemlidir. Bu konuda daha fazla bilgi edinmek iÃ§in Grolemund ve Wickham tarafÄ±ndan yazÄ±lan [R for Data Science](https://r4ds.had.co.nz/data-import.html) kitabÄ±ndaki Data Import bÃ¶lÃ¼mÃ¼nÃ¼ inceleyebilirsiniz. Bu dersin ilerleyen aÅŸamalarÄ±nda da bu konuya deÄŸineceÄŸiz.

## ğŸ’¡ UygulamalÄ± GÃ¶rev - 1 {.unnumbered}

Râ€™da yer alan `mtcars` veri setini yÃ¼kleyin ve veri setinin ilk birkaÃ§ satÄ±rÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyin.

> ğŸ“Œ veri seti yÃ¼klendikten sonra `head()` fonksiyonunu kullanarak veri setinin ilk birkaÃ§ satÄ±rÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyebilirsiniz.

```{r}
#| eval: false
#| include: false
data(mtcars)
head(mtcars)
```

## Veri inceleme

Bu veri setinin boyutlarÄ±nÄ±, deÄŸiÅŸken adlarÄ±nÄ± ve ilk birkaÃ§ gÃ¶zlemini gÃ¶rmek iÃ§in veri setinin adÄ±nÄ± `glimpse()` fonksiyonunun iÃ§ine yazabilirsiniz.

```{r}
glimpse(hsb2)

```

SÄ±rada, `gapminder` paketindeki `gapminder` veri setini inceleyelim. Veri seti 1952â€“2007 yÄ±llarÄ± arasÄ±nda Ã¼lkelerin yaÅŸam beklentisi, nÃ¼fus ve kiÅŸi baÅŸÄ±na gayri safi milli hasÄ±la verilerini iÃ§erir.

`glimpse()` fonksiyonunu kullanarak gapminder veri setine gÃ¶z atÄ±n.

```{r}
library(gapminder)
glimpse(gapminder)
```

-   FarklÄ± veri tÃ¼rlerini farkettiniz mi?

# DeÄŸiÅŸken TÃ¼rleri

Bir veri setiyle Ã§alÄ±ÅŸmaya baÅŸladÄ±ÄŸÄ±nÄ±zda ilk olarak yapmanÄ±z gereken , veri setinin boyutlarÄ±nÄ± belirlemektir: kaÃ§ satÄ±r (gÃ¶zlem) ve kaÃ§ sÃ¼tun (deÄŸiÅŸken) olduÄŸu.

DeÄŸiÅŸkenleri sÄ±nÄ±flandÄ±rma oldukÃ§a Ã¶nemlidir Ã§Ã¼nkÃ¼ deÄŸiÅŸken tÃ¼rÃ¼, hangi betimsel istatistikleri hesaplayabileceÄŸimizi, hangi gÃ¶rselleÅŸtirmeleri yapabileceÄŸimizi ve hangi istatistiksel yÃ¶ntemlerin araÅŸtÄ±rma sorularÄ±mÄ±za uygun olacaÄŸÄ±nÄ± belirler.

Genel olarak iki tÃ¼r deÄŸiÅŸken vardÄ±r: **sayÄ±sal** ve **kategorik**.

## SayÄ±sal Veriler

SÃ¼rekli (ya da nicel) deÄŸiÅŸkenler, sayÄ±sal deÄŸerler alÄ±r. Bu deÄŸerlerle toplama, Ã§Ä±karma, ortalama alma gibi aritmetik iÅŸlemler yapmak anlamlÄ±dÄ±r.

SayÄ±sal deÄŸiÅŸkenler **sÃ¼rekli (continuous)** veya **kesikli (discrete)** olabilir:

-   **SÃ¼rekli sayÄ±sal deÄŸiÅŸkenler** genellikle Ã¶lÃ§me yoluyla elde edilir (Ã¶r. boy uzunluÄŸu). Belirli bir aralÄ±kta sonsuz sayÄ±da deÄŸer alabilirler.

-   **Kesikli sayÄ±sal deÄŸiÅŸkenler** ise belirli ve sayÄ±labilir deÄŸerlerden birini alÄ±r. Ã–rneÄŸin bir evdeki Ã§ocuk sayÄ±sÄ±. Genel olarak sayma verileri (count data) kesikli deÄŸiÅŸkenlere Ã¶rnektir.

Bir deÄŸiÅŸkenin sÃ¼rekli mi kesikli mi olduÄŸuna karar verirken, gÃ¶zlenen deÄŸerden Ã§ok deÄŸiÅŸkenin doÄŸasÄ±na bakmak Ã¶nemlidir. Ã–rneÄŸin, boy aslÄ±nda sÃ¼rekli bir deÄŸiÅŸkendir; ancak biz boyu santimetre ya da inÃ§ gibi en yakÄ±n birime yuvarlayarak raporladÄ±ÄŸÄ±mÄ±z iÃ§in kesikli gibi gÃ¶rÃ¼nebilir.

## Kategorik Veriler

Kategorik (ya da nitel) deÄŸiÅŸkenler sÄ±nÄ±rlÄ± sayÄ±da farklÄ± kategori alÄ±r.

-   EÄŸer kategoriler **sÄ±ralÄ±** bir yapÄ±ya sahipse, bu tÃ¼r deÄŸiÅŸkenlere **ordinal** denir.

    Ã–rneÄŸin: Bir ankette mÃ¼ÅŸteri hizmetlerinden memnuniyet â€œÃ§ok memnun deÄŸilimâ€, â€œmemnun deÄŸilimâ€, â€œkararsÄ±zÄ±mâ€, â€œmemnunumâ€, â€œÃ§ok memnunumâ€ ÅŸeklinde derecelendirilebilir. Burada doÄŸal bir sÄ±ralama olduÄŸu iÃ§in deÄŸiÅŸken ordinale girer.

-   EÄŸer kategoriler arasÄ±nda doÄŸal bir sÄ±ralama yoksa, deÄŸiÅŸken **nominal** olarak adlandÄ±rÄ±lÄ±r.\
    Ã–rneÄŸin: â€œTabletiniz var mÄ±? (Evet / HayÄ±r)â€ sorusu. Burada cevaplarÄ±n sÄ±rasÄ± yoktur.

Not: Kategorik deÄŸiÅŸkenler sayÄ±larla kodlanabilir (Ã¶r. likert Ã¶lÃ§eÄŸinde 1â€“5 arasÄ± puanlama). Ancak bu sayÄ±lar yalnÄ±zca **kategori dÃ¼zeylerini temsil eden sembollerdir**; aritmetik iÅŸlemler yapmak anlamlÄ± deÄŸildir.

## High School and Beyond Veri Setindeki DeÄŸiÅŸkenler

`glimpse()` fonksiyonunu kullanarak veri setindeki deÄŸiÅŸkenlerin listesini gÃ¶rebilir ve bu deÄŸiÅŸkenlerde hangi tÃ¼r deÄŸerlerin saklandÄ±ÄŸÄ±nÄ± inceleyebiliriz.

-   **id**: Ã–ÄŸrenciye ait kimlik numarasÄ±dÄ±r. Teknik olarak kategorik bir deÄŸiÅŸken olsa da analizlerde iliÅŸkileri incelemek iÃ§in kullanÄ±ÅŸlÄ± deÄŸildir. Bunu, Ã¶ÄŸrencilerin isimlerinin anonimleÅŸtirilmiÅŸ bir karÅŸÄ±lÄ±ÄŸÄ± gibi dÃ¼ÅŸÃ¼nebilirsiniz.

-   **gender (cinsiyet)**: â€œmaleâ€ ve â€œfemaleâ€ dÃ¼zeylerine sahip kategorik bir deÄŸiÅŸkendir. Burada dikkat edilmesi gereken nokta, High School and Beyond gibi resmi araÅŸtÄ±rmalarda kullanÄ±lan dilin deÄŸiÅŸmesinin genellikle yavaÅŸ olmasÄ±dÄ±r. Bu nedenle â€œgenderâ€ olarak etiketlenmiÅŸ deÄŸiÅŸkenler aslÄ±nda biyolojik cinsiyeti (erkek/kadÄ±n) Ã¶lÃ§mektedir. Bu deÄŸiÅŸkende doÄŸal bir sÄ±ralama yoktur; dolayÄ±sÄ±yla sadece **kategorik** bir deÄŸiÅŸkendir.

-   **race (Ä±rk/etnik kÃ¶ken)**: â€œwhiteâ€, â€œafrican americanâ€, â€œhispanicâ€ ve â€œasianâ€ dÃ¼zeylerine sahip kategorik bir deÄŸiÅŸkendir. Bu deÄŸiÅŸkende de doÄŸal bir sÄ±ralama yoktur.

-   **socio-economic status (sosyo-ekonomik durum)**: â€œlowâ€, â€œmiddleâ€ ve â€œhighâ€ dÃ¼zeylerine sahiptir. Bu dÃ¼zeyler arasÄ±nda doÄŸal bir sÄ±ralama olduÄŸundan, bu deÄŸiÅŸken **ordinal kategorik** bir deÄŸiÅŸkendir.

-   **school type** ve **program**: Bunlar da kategorik deÄŸiÅŸkenlerdir, ancak dÃ¼zeyleri arasÄ±nda doÄŸal bir sÄ±ralama yoktur.

-   **okuma, yazma, matematik, fen ve sosyal bilgiler puanlarÄ±**: Bu deÄŸiÅŸkenler, Ã¶ÄŸrencilerin testlerden aldÄ±klarÄ± puanlardÄ±r. Tam sayÄ±lardan oluÅŸur ve (sÄ±navlarda kÃ¼suratlÄ± puanlarÄ±n verilmediÄŸini varsayarsak) **kesikli (discrete) sayÄ±sal deÄŸiÅŸkenler**dir.

### ğŸ’¡ UygulamalÄ± GÃ¶rev - 2 {.unnumbered}

`gapminder` veri setindeki deÄŸiÅŸkenleri inceleyin ve her bir deÄŸiÅŸkenin tÃ¼rÃ¼nÃ¼ (sayÄ±sal/kategorik) belirleyin. Ã–zellikle `year`, `lifeExp`, `pop` ve `gdpPercap` deÄŸiÅŸkenlerine odaklanÄ±n.

```{r}
#| eval: false
#| include: false
glimpse(gapminder)
```

## Râ€™de Kategorik Veriler: FaktÃ¶rler

Râ€™de farklÄ± veri sÄ±nÄ±flarÄ± vardÄ±r. Bunlardan biri **faktÃ¶r (factor)** sÄ±nÄ±fÄ±dÄ±r. R, kategorik deÄŸiÅŸkenleri Ã§oÄŸunlukla faktÃ¶r olarak saklar.

FaktÃ¶rlerin Ã¶nemli bir kullanÄ±m alanÄ± **istatistiksel modelleme**dir, Ã§Ã¼nkÃ¼ kategorik deÄŸiÅŸkenler modellere sayÄ±sal deÄŸiÅŸkenlerden farklÄ± ÅŸekilde girer. Åimdilik bilmeniz gereken, faktÃ¶rlerin bazÄ± durumlarda gereksiz gÃ¶rÃ¼nse de birÃ§ok analiz iÃ§in doÄŸru ÅŸekilde Ã§alÄ±ÅŸmayÄ± saÄŸlayan vazgeÃ§ilmez bir yapÄ± olduÄŸudur.

Kategorik veri ile yapÄ±lan analizlerde yaygÄ±n bir adÄ±m, yalnÄ±zca verinin bir alt kÃ¼mesiyle Ã§alÄ±ÅŸmaktÄ±r.

Ã–rneÄŸin:

-   Sadece devlet okulundaki Ã¶ÄŸrencilerin verilerini analiz etmek\
-   Sadece â€œfemaleâ€ olarak tanÄ±mlanan Ã¶ÄŸrenciler Ã¼zerinde Ã§alÄ±ÅŸmak

Bu alt kÃ¼meleri elde etmek iÃ§in kategorik deÄŸiÅŸkenin belirli dÃ¼zeylerini (levels) filtreleriz.

### Ã–rnek: High School and Beyond Verisinde Alt Grup Analizi

Diyelim ki sadece devlet okullarÄ±ndaki Ã¶ÄŸrenciler Ã¼zerinde bir analiz yapmak istiyoruz. Ä°lk adÄ±m, bu tÃ¼rde kaÃ§ Ã¶ÄŸrenci olduÄŸunu bulmaktÄ±r.

Bunun iÃ§in kullanabileceÄŸimiz yollardan biri, **tidyverse** iÃ§inde yer alan **dplyr** paketindeki `count()` fonksiyonudur.

-   `count()` fonksiyonu, bir sÃ¼tundaki her benzersiz deÄŸerin kaÃ§ kez tekrarlandÄ±ÄŸÄ±nÄ± (frekansÄ±nÄ±) verir.

-   Bu Ã¶rnekte, `schtyp` (school type) sÃ¼tunundaki her dÃ¼zey iÃ§in Ã¶ÄŸrenci sayÄ±sÄ±nÄ± elde edeceÄŸiz.

```{r}
library(dplyr)
library(openintro)

# Her okul tÃ¼rÃ¼ndeki Ã¶ÄŸrenci sayÄ±sÄ±nÄ± bulma
hsb2 %>% 
  count(schtyp)
```

## Pipe OperatÃ¶rÃ¼ `%>%`

Pipe operatÃ¶rÃ¼ (`%>%`) dikey Ã§izgi ve bÃ¼yÃ¼ktÃ¼r iÅŸaretinden oluÅŸur. Râ€™a, solda gelen nesneyi saÄŸdaki fonksiyonun ilk argÃ¼manÄ±na aktarmasÄ±nÄ± sÃ¶yler.

Matematiksel olarak:

`x %>% f(y)` ifadesi `f(x, y)` haline gelir, Ã§Ã¼nkÃ¼ `x`, `f()` fonksiyonunun ilk argÃ¼manÄ±na aktarÄ±lmÄ±ÅŸtÄ±r.

```{r eval=FALSE, message=TRUE, warning=FALSE, paged.print=FALSE}
#| code-fold: false
#| 
hsb2_public %>% count(schtyp)


```

Kodu ÅŸÃ¶yle okuyabiliriz:

â€œ**hsb2** veri setini al, `count()` fonksiyonuna **pipe** (aktar) et, ardÄ±ndan `count()` fonksiyonu ile `schtyp` deÄŸiÅŸkenindeki benzersiz deÄŸerlerin kaÃ§ kez geÃ§tiÄŸini say.â€

**Ã–rnek:**

Râ€™de sayÄ±larÄ± toplamanÄ±n bir yolu `sum()` fonksiyonudur.

```{r}
sum(3, 4)

```

Burada 3 ve 4, virgÃ¼lle ayrÄ±larak toplama iÅŸlemine sokulur.

AynÄ± iÅŸlemi pipe ile ÅŸÃ¶yle yazabiliriz:

```{r}
3 %>% sum(4)

```

Bu kullanÄ±m ilk bakÄ±ÅŸta Ã§ok fark yaratmÄ±yor gibi gÃ¶rÃ¼nebilir. Ancak ders boyunca ilerledikÃ§e pipe operatÃ¶rÃ¼nÃ¼n, veri dÃ¼zenleme adÄ±mlarÄ±nÄ± ardÄ±ÅŸÄ±k olarak zincirlemeye izin verdiÄŸini gÃ¶receÄŸiz.

Bu sayede daha uzun iÅŸlemler bile Ã§ok daha okunabilir hale gelir.

### Filtreleme

-   `filter()` fonksiyonunu kullanarak sadece devlet okullarÄ±ndaki Ã¶ÄŸrencileri seÃ§elim.

`hsb2` veri setinde al, `filter()` fonksiyonuna aktar. ArdÄ±ndan school type deÄŸiÅŸkeni public olan satÄ±rlarÄ± seÃ§. Sonucu `hsb2_public` adlÄ± yeni bir veri setine ata.â€

```{r}
hsb2_public <- hsb2 %>%
  filter(schtyp == "public")

```

### Ã–nemli Noktalar

-   Ã‡ift eÅŸittir (==): Râ€™de mantÄ±ksal testtir. â€œEÅŸit mi?â€ sorusunu sorar.

-   TÄ±rnak iÅŸareti (""): Kategorik deÄŸiÅŸkenler karakter tipindedir. Bu yÃ¼zden schtyp == "public" ifadesinde "public" tÄ±rnak iÃ§inde yazÄ±lmalÄ±dÄ±r. TÄ±rnak koymayÄ± unutursanÄ±z R hata mesajÄ± dÃ¶ner!

```{r}
hsb2_public %>% count(schtyp)
```

### ğŸ’¡ UygulamalÄ± GÃ¶rev - 3 {.unnumbered}

**â€œDevlet okulunda okuyan ve sosyo-ekonomik durumu dÃ¼ÅŸÃ¼k olan Ã¶ÄŸrencileri filtreleyin. KaÃ§ gÃ¶zlem kaldÄ±?â€**

```{r}
#| eval: false
#| include: false
hsb2_subset <- hsb2 %>%
  filter( schtyp == "public" & ses == "low")

# Kontrol: KaÃ§ Ã¶ÄŸrenci var?
hsb2_subset %>% count(schtyp, ses)
```

## DeÄŸiÅŸkenleri Kategorik Hale Getirme

Var olan bir deÄŸiÅŸkenden yeni bir deÄŸiÅŸken Ã¼retmenin yaygÄ±n yollarÄ±ndan biri **kategorik hale getirme**dÄ±r (discretizing).

Bu, sayÄ±sal bir deÄŸiÅŸkeni belirli kriterlere gÃ¶re kategorik bir deÄŸiÅŸkene dÃ¶nÃ¼ÅŸtÃ¼rmek anlamÄ±na gelir.

Diyelim ki Ã¶ÄŸrencilerin gerÃ§ek **okuma puanÄ±** ile ilgilenmiyoruz; onun yerine puanlarÄ±nÄ±n ortalamanÄ±n **altÄ±nda mÄ± yoksa Ã¼zerinde mi** olduÄŸuna bakmak istiyoruz.

Ã–nce ortalama okuma puanÄ±nÄ± `mean()` fonksiyonu ile hesaplayalÄ±m:

```{r}
library(dplyr)
library(openintro)

mean(hsb2$read)

```

Bu deÄŸeri daha sonra kullanabilmek iÃ§in bir nesneye atayalÄ±m:

```{r}
avg_read <- mean(hsb2$read)
avg_read

```

KÄ±sayol: AtamayÄ± parantez iÃ§ine alÄ±rsak hem nesneye atar hem de Ã§Ä±ktÄ±sÄ±nÄ± gÃ¶rÃ¼rÃ¼z:

```{r}
(avg_read <- mean(hsb2$read)) # nesne adÄ±nÄ± tekrar yazmak zorunda kalmadÄ±k

```

Åimdi her Ã¶ÄŸrenci iÃ§in okuma puanÄ± ortalamanÄ±n altÄ±nda mÄ± yoksa ortalama ve Ã¼zerinde mi olduÄŸunu belirleyen yeni bir deÄŸiÅŸken oluÅŸturalÄ±m.

Bunun iÃ§in `mutate()` ve `if_else()` fonksiyonlarÄ±nÄ± kullanacaÄŸÄ±z:

```{r}
hsb2_updated <- hsb2 %>%
  mutate(read_cat = if_else(read < avg_read, 
                            "ortalama altÄ±", 
                            "ortalama ve Ã¼stÃ¼"))

```

MantÄ±k:

-   Åart (logical test): read \< avg_read

-   TRUE ise: "ortalama altÄ±"

-   FALSE ise: "ortalama ve Ã¼stÃ¼"

```{r}
hsb2_updated %>% count(read_cat)

```

```{r}
library(ggplot2)
ggplot(hsb2_updated, aes(x = read_cat)) +
  geom_bar()
```

> ğŸ“Œ Herhangi bir veri analizinin en mantÄ±klÄ± ve faydalÄ± ilk adÄ±mÄ± **keÅŸifsel analiz**dir.

KeÅŸifsel veri analizinin en Ã¶nemli bileÅŸenlerinden biri ise **gÃ¶rselleÅŸtirmedir**.

Râ€™de veri gÃ¶rselleÅŸtirmenin birÃ§ok yÃ¶ntemi vardÄ±r. Bu derste **tidyverse** iÃ§inde yer alan **ggplot2** paketini kullanacaÄŸÄ±z.

-   ggplot2, modern gÃ¶rÃ¼nÃ¼mlÃ¼, kullanÄ±mÄ± kolay grafikler Ã¼retir.

-   Basit iki deÄŸiÅŸkenli grafikler Ã¼retmeyi Ã¶ÄŸrendikten sonra, aynÄ± sÃ¶zdizimini biraz daha geniÅŸleterek Ã§ok deÄŸiÅŸkenli gÃ¶rselleÅŸtirmeler de kolayca yapÄ±labilir.

-   ggplot2â€™nin en cazip Ã¶zelliklerinden biri, grafiklerin katmanlar halinde inÅŸa edilmesidir:

    -   Ä°lk katmanda ham veriler

    -   Ãœzerine anotasyonlar, Ã¶zet istatistikler veya eÄŸilim Ã§izgileri eklenebilir.

    Bu yaklaÅŸÄ±m Ã¶ÄŸrenmeyi kolaylaÅŸtÄ±rÄ±r, Ã§Ã¼nkÃ¼ adÄ±m adÄ±m basitten karmaÅŸÄ±ÄŸa geÃ§iÅŸ yapÄ±labilir.

### ğŸ’¡ UygulamalÄ± GÃ¶rev - 4

hsb2_updated veri setine yeni bir deÄŸiÅŸken oluÅŸturarak matematik puanlarÄ±nÄ± alt orta ve ust olarak kategorize edin. Her kategoride kaÃ§ Ã¶ÄŸrenci var, bunu bir bar grafiÄŸinde gÃ¶steriniz?

> ğŸ“Œ 25. Ã§eyrek ve altÄ± alt, 26.-75. Ã§eyrek orta, 76. Ã§eyrek ve Ã¼stÃ¼ Ã¼st olarak kategorize edebilirsiniz.

```{r}
#| eval: false
#| include: false
hsb2_updated <- hsb2_updated %>%
  mutate(math_cat = case_when(
    math <= quantile(math, 0.25) ~ "alt",
    math > quantile(math, 0.25) & math <= quantile(math, 0.75) ~ "orta",
    math > quantile(math, 0.75) ~ "Ã¼st"
  ))


hsb2_updated %>% count(math_cat)
```

## GÃ¶rselleÅŸtirme

**High School and Beyond** veri setindeki Ã¶ÄŸrencilerin matematik ve fen puanlarÄ± arasÄ±ndaki iliÅŸkiyi gÃ¶rselleÅŸtirelim:

```{r}
library(ggplot2)
library(openintro)

ggplot(hsb2, aes(x = math, y = science)) +
  geom_point() +
  labs(title = "Matematik ve Fen PuanlarÄ± ArasÄ±ndaki Ä°liÅŸki",
       x = "Matematik PuanÄ±",
       y = "Fen PuanÄ±")


```

-   Grafik Ã¼retmek iÃ§in **ggplot()** fonksiyonunu kullanÄ±yoruz.\
-   Ä°lk argÃ¼man, kullanmak istediÄŸimiz veri Ã§erÃ§evesi: `data = hsb2`.\
-   **aes()** (aesthetics) iÃ§inde, veri Ã§erÃ§evesindeki deÄŸiÅŸkenleri grafiÄŸin eksenlerine eÅŸliyoruz.
    -   Bu Ã¶rnekte, x eksenine fen puanÄ± (`science`), y eksenine matematik puanÄ± (`math`) eÅŸlenmiÅŸtir.\
-   Son olarak, her gÃ¶zlemi grafikte hangi geometrik ÅŸekille gÃ¶stermek istediÄŸimizi belirtiyoruz.
    -   DaÄŸÄ±lÄ±m grafiÄŸi (scatter plot) yapmak istediÄŸimiz iÃ§in, her gÃ¶zlemi bir â€œnoktaâ€ ile gÃ¶steriyoruz.\
    -   Bu katmanÄ± eklemek iÃ§in **geom_point()** fonksiyonunu kullanÄ±yoruz.

**Ã–zetle:**

-   Ana fonksiyon: `ggplot()`

-   Ä°lk argÃ¼man: kullanÄ±lacak veri

-   `aes()`: deÄŸiÅŸkenleri grafiÄŸin Ã¶zelliklerine (eksene, renge, vb.) eÅŸler

-   `geom_XXX()`: hangi tÃ¼r grafik Ã§izileceÄŸini belirler

### Katman MantÄ±ÄŸÄ±

Dikkat edilmesi gereken bir diÄŸer nokta: **geom_XXX()** fonksiyonu, `ggplot()`â€™tan sonra `+` iÅŸareti ile eklenir.

-   ggplot2 grafiklerinin katmanlar halinde oluÅŸturulduÄŸunu sÃ¶ylemiÅŸtik.\
-   `+` iÅŸareti bu katmanlarÄ± birbirinden ayÄ±rÄ±r.\
-   Genel olarak `+` satÄ±r sonu gibi dÃ¼ÅŸÃ¼nÃ¼lebilir, bu yÃ¼zden `+` yazdÄ±ktan sonra **Enter** tuÅŸuna basmak iyi bir alÄ±ÅŸkanlÄ±ktÄ±r.\
-   Zorunlu olmasa da, her katmanÄ± yeni bir satÄ±rda yazmak kodun daha okunabilir olmasÄ±nÄ± saÄŸlar.

Bu nedenle biz de bu derste bu yapÄ±yÄ± kullanacaÄŸÄ±z ve siz de grafiklerinizde bu yÃ¶ntemi takip etmenizi tavsiye ederiz.

### GrafiÄŸin YorumlanmasÄ±

Elde ettiÄŸimiz grafikte, Ã¶ÄŸrencilerin fen ve matematik puanlarÄ± arasÄ±nda **pozitif bir iliÅŸki** gÃ¶rÃ¼yoruz.\
Yani fen puanÄ± yÃ¼ksek olan Ã¶ÄŸrenciler genellikle matematikten de yÃ¼ksek puan alÄ±yor.

## Matematik, Fen ve Program TÃ¼rÃ¼

Åimdi Ã¶ÄŸrencilerin **matematik** ve **fen** puanlarÄ±nÄ± tekrar gÃ¶rselleÅŸtirelim,\
ancak bu kez Ã¶ÄŸrencilerin dahil olduklarÄ± **program tÃ¼rÃ¼nÃ¼** de dikkate alalÄ±m:\
- **general**\
- **academic**\
- **vocational**

Bunu yapmak iÃ§in `color` estetiÄŸini kullanarak her program tÃ¼rÃ¼ne farklÄ± bir renk atayabiliriz:

```{r}
#| echo: true
ggplot(hsb2, aes(x = science , y = math, color = prog)) +
  geom_point() +
  labs(title = "Matematik ve Fen PuanlarÄ±: Program TÃ¼rÃ¼ne GÃ¶re",
       x = "Matematik PuanÄ±",
       y = "Fen PuanÄ±",
       color = "Program TÃ¼rÃ¼")


```

Fen ve matematik puanlarÄ± arasÄ±ndaki **pozitif iliÅŸki** hÃ¢lÃ¢ belirgindir.\
Ancak grafiÄŸe program tÃ¼rÃ¼nÃ¼ eklediÄŸimizde ÅŸunu gÃ¶rÃ¼yoruz:\
- **Akademik programlardaki** Ã¶ÄŸrenciler (yeÅŸil noktalar) genellikle matematikte fen puanlarÄ±na gÃ¶re daha yÃ¼ksek puan alma eÄŸilimindedir.\
- **Mesleki (vocational) programdaki** Ã¶ÄŸrenciler (mavi) ve **genel programdaki** Ã¶ÄŸrenciler (kÄ±rmÄ±zÄ±) ise gÃ¶rece daha dÃ¼ÅŸÃ¼k puanlara sahiptir.

### ğŸ’¡ UygulamalÄ± GÃ¶rev - 4 {.unnumbered}

YukarÄ±daki grafiÄŸe, her bir program tÃ¼rÃ¼ iÃ§in ayrÄ± bir doÄŸrusal regresyon doÄŸrusunu ekleyin.

Ä°pucu: geom_smooth(method = "lm", se = FALSE) fonksiyonunu kullanabilirsiniz.

Ortaya Ã§Ä±kan grafiÄŸi yorumlayÄ±n:

Sizce program tÃ¼rÃ¼ne gÃ¶re Ã¶ÄŸrencilerin matematik ve fen puanlarÄ± arasÄ±ndaki iliÅŸki nasÄ±l farklÄ±laÅŸÄ±yor?

Hangi program tÃ¼rÃ¼nde matematik puanlarÄ± fen puanlarÄ±na gÃ¶re daha yÃ¼ksek Ã§Ä±kma eÄŸiliminde gÃ¶rÃ¼nÃ¼yor?

```{r}
ggplot(hsb2, aes(x = science , y = math, color = prog)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(title = "Matematik ve Fen PuanlarÄ±: Program TÃ¼rÃ¼ne GÃ¶re",
       x = "Matematik PuanÄ±",
       y = "Fen PuanÄ±",
       color = "Program TÃ¼rÃ¼")
```

### ğŸ’¡ UygulamalÄ± GÃ¶rev - 5 {.unnumbered}

[Dersin devam eden sÃ¼reÃ§lerinde size Ã¶dev olarak bÄ±rakacaÄŸÄ±m ilk lab Ã§alÄ±ÅŸmasÄ±nÄ± derste beraber yapacaÄŸÄ±z](https://openintrostat.github.io/oilabs-tidy/01_intro_to_r/intro_to_r.html)

# ğŸ“š Ã–dev {.unnumbered}

ğŸ“Œ [DataCamp](https://www.datacamp.com/) Ã¼zerinden size atanan ilk modÃ¼lÃ¼ tamamlayÄ±nÄ±z.

ğŸ“˜ Ders kitabÄ±nÄ±n ilk bÃ¶lÃ¼mÃ¼nÃ¼ okuyunuz.

ğŸ”— Ä°lk bÃ¶lÃ¼mÃ¼n buradan da yapabilirsiniz ğŸ”— [Language of data](https://openintro.shinyapps.io/ims-01-data-01/#section-welcome)
